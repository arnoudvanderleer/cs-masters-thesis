\ProvidesPackage{document}


% Requirements
\RequireXeTeX{}

% Math
\usepackage{amsmath, amssymb, amsfonts}


% References
\usepackage{hyperref}
% Use:
%   \Cref{} -- at the start of a sentence
%   \cref{} -- not at the start of a sentence
% Prefixes:
% apdx:   Appendix
% chap:   Chapter
% sec:    Section
% subsec: Subsection
% eq:     Equation
% alg:    Algorithm
% lst:    Code Listing
% fig:    Figure
% tab:    Table
% enum:   Enumeration
% fn:     Footnote


% Graphics
\usepackage{xargs}
\usepackage[dvips]{graphicx}
\usepackage[dvips]{color}
\usepackage[dvipsnames]{xcolor}


% Fonts
\usepackage{xltxtra}
\usepackage{fontspec}
\usepackage{xunicode}
\setmainfont{TeX Gyre Pagella}  % Palatino clone
\setmonofont[
   Numbers =,
   Scale = 0.8,
   Extension = .otf,
   WordSpace = {1,0,0},
   PunctuationSpace = WordSpace,
   UprightFont =*-Regular,
   ItalicFont =*-RegularIt,
   BoldFont=*-Bold,
   BoldItalicFont=*-BoldIt
 ]{SourceCodePro}


% Math Symbols
\usepackage{mathabx}
\usepackage{stmaryrd}


% Listings
\usepackage{microtype}
\usepackage{listings}           % \lstinline

\lstset{
  breaklines=false,%true,
  basicstyle=\normalsize\ttfamily,
}
% Special command that allows \- to be used, which causes a keyword
% to be broken there, with a hypen inserted. E.g. \lstinlineb{Hello\-World}.
% Source: https://tex.stackexchange.com/a/168532/108670
\lstdefinestyle{Inline}
{
    breaklines=false, % If true, some hyphens disappear
    literate={\\-}{}{0\discretionary{-}{}{}}  % Use \- to insert an optional hyphen
}
\newcommand{\lstinlineb}{\lstinline[style=Inline]}

\makeatletter
\lst@InputCatcodes
\def\lst@DefEC{%
 \lst@CCECUse \lst@ProcessLetter
  ^^80^^81^^82^^83^^84^^85^^86^^87^^88^^89^^8a^^8b^^8c^^8d^^8e^^8f%
  ^^90^^91^^92^^93^^94^^95^^96^^97^^98^^99^^9a^^9b^^9c^^9d^^9e^^9f%
  ^^a0^^a1^^a2^^a3^^a4^^a5^^a6^^a7^^a8^^a9^^aa^^ab^^ac^^ad^^ae^^af%
  ^^b0^^b1^^b2^^b3^^b4^^b5^^b6^^b7^^b8^^b9^^ba^^bb^^bc^^bd^^be^^bf%
  ^^c0^^c1^^c2^^c3^^c4^^c5^^c6^^c7^^c8^^c9^^ca^^cb^^cc^^cd^^ce^^cf%
  ^^d0^^d1^^d2^^d3^^d4^^d5^^d6^^d7^^d8^^d9^^da^^db^^dc^^dd^^de^^df%
  ^^e0^^e1^^e2^^e3^^e4^^e5^^e6^^e7^^e8^^e9^^ea^^eb^^ec^^ed^^ee^^ef%
  ^^f0^^f1^^f2^^f3^^f4^^f5^^f6^^f7^^f8^^f9^^fa^^fb^^fc^^fd^^fe^^ff%
  ^^^^03bb
  ^^00}
\lst@RestoreCatcodes
\makeatother


% Quotes
\usepackage{csquotes} % Usage: \enquote{This is a \textelp{} quote!}


% Tables
\usepackage{booktabs}
\usepackage{tabularx}
\newcommand*{\tid}{\hspace*{0.2cm}}%

\newenvironment{textalign}
  {\par\noindent
   \begin{tabular}{@{}r@{}l@{}}}
  {\end{tabular}\par}

\newenvironment{textalign*}
  {\par\noindent
   \tabularx{\columnwidth}{@{}r@{}l@{} >{\raggedright\arraybackslash}X}}
  {\endtabularx\par}


% Thesis Layout
\usepackage{mscthesis}


% Figures
\usepackage{wrapfig}
\usepackage{svg}
\usepackage{tikz-cd}

% For the "symbol=" key in tikzcd
\tikzset{%
    symbol/.style={%
        draw=none,
        every to/.append style={%
            edge node={node [sloped, allow upside down, auto=false]{$#1$}}}
    }
}

% Enumerations
\usepackage{enumerate}
\usepackage{enumitem}
\setlist{noitemsep} % sets the itemsep and parsep for all level two lists to 0

% Index
\usepackage{imakeidx}

\makeindex

\newcommand{\iindex}[1]{\textit{#1}\index{#1}}

% Captions
\usepackage{subcaption}

% Theorem environments
\usepackage{amsthm}

\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem*{axiom}{Axiom}

\theoremstyle{definition}
\newtheorem{definition}{Definition}

\theoremstyle{remark}
\newtheorem{remark}{Remark}
\newtheorem{example}{Example}


% Todo's and Notes
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}
\newcommandx{\unsure}[2][1=]{\todo[linecolor=red,backgroundcolor=red!25,bordercolor=red,#1]{#2}}
\newcommandx{\change}[2][1=]{\todo[linecolor=blue,backgroundcolor=blue!25,bordercolor=blue,#1]{#2}}
\newcommandx{\info}[2][1=]{\todo[linecolor=OliveGreen,backgroundcolor=OliveGreen!25,bordercolor=OliveGreen,#1]{#2}}
\newcommandx{\improvement}[2][1=]{\todo[linecolor=Plum,backgroundcolor=Plum!25,bordercolor=Plum,#1]{#2}}
\newcommandx{\thiswillnotshow}[2][1=]{\todo[disable,#1]{#2}}
\newcommand\fixme[1]{\textcolor{red}{#1}}


% Correct margins
\setlrmarginsandblock{3cm}{2.5cm}{*}
\setulmarginsandblock{2.5cm}{2.5cm}{*}
\checkandfixthelayout{}


% Words
\newcommand{\id}[1]{\ensuremath{\text{id}_{#1}}}
\newcommand{\op}[1]{\ensuremath{#1^{\text{op}}}}
\newcommand{\Lan}[2]{\ensuremath{\text{Lan}_{#1}#2}}
\newcommand\SET{\mathbf{Set}}
\newcommand\TYPE{\mathbf{Type}}
\newcommand\Cat{\mathbf{Cat}}
\newcommand\F{\mathbf{F}}
\newcommand\FinSET{\mathbf{FinSET}}
\newcommand\R{\mathbf{R}}
\newcommand\AlgTh{\mathbf{AlgTh}}
\newcommand\LamTh{\mathbf{LamTh}}
\newcommand\Alg[1]{\mathbf{Alg}_{#1}}
\newcommand\Pshf[1]{\mathbf{Pshf}_{#1}}
\newcommand\RAct[1]{\mathbf{RAct}_{#1}}
\newcommand\TODO{\textbf{(TODO)} }

\DeclareFontFamily{U}{dmjhira}{}
\DeclareFontShape{U}{dmjhira}{m}{n}{ <-> dmjhira }{}

\DeclareRobustCommand{\yo}{\text{\usefont{U}{dmjhira}{m}{n}\symbol{"48}}}

% Bibliography
\usepackage[
  backend=biber,
  style=alphabetic
  %style=numeric
]{biblatex}


% Continuous counter
\usepackage{xassoccnt}
\DeclareCoupledCountersGroup{figtheoexadef}
\DeclareCoupledCounters[name=figtheoexadef]{figure,table}


% Table of Contents
\setcounter{tocdepth}{1}
\setsecnumdepth{subsection}
\maxsecnumdepth{subsection}

\newcommand{\coqdocbaseurl}{https://arnoudvanderleer.github.io/cs-masters-thesis/UniMath.}
\newcommand{\coqident}[2]{\href{\coqdocbaseurl #1.html\##2}{\nolinkurl{#2}}}
